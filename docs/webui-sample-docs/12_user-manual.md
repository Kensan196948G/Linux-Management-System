# ユーザー操作マニュアル

**文書番号**: WEBUI-USR-001
**バージョン**: 1.0
**作成日**: 2026-02-25
**対象システム**: Linux管理 WebUI サンプルシステム

---

## はじめに

本マニュアルは Linux管理WebUI の操作方法を説明します。
対象読者: サーバー運用管理者（IT部門）

### アクセス先

```
https://adminui.example.local
※ 社内ネットワークからのみアクセス可能
```

### 対応ブラウザ

- Google Chrome（最新版）
- Mozilla Firefox（最新版）
- Microsoft Edge（最新版）

---

## 1. ログイン

### 1.1 通常ログイン（MFAなし）

1. ブラウザで `https://adminui.example.local` を開く
2. **ユーザー名**を入力する
3. **パスワード**を入力する
4. **「ログイン」** ボタンをクリックする

### 1.2 多要素認証（MFA）ありのログイン

1. ユーザー名・パスワードを入力する
2. **MFA コード** の入力欄が表示される
3. Google Authenticator等のアプリで**6桁のコード**を確認する
4. コードを入力し、**「ログイン」** をクリックする

> **注意**: MFAコードは30秒で変わります。入力時間が遅れた場合は次のコードを使用してください。

### 1.3 ログイン失敗時

- パスワードを5回間違えると、アカウントが **15分間ロック** されます
- ロック解除は15分後に自動解除、または管理者に依頼してください

### 1.4 ログアウト

画面右上の **ユーザー名** をクリック → **「ログアウト」** を選択

> **重要**: 作業終了後は必ずログアウトしてください。
> 30分間操作がない場合は自動的にログアウトされます。

---

## 2. ダッシュボード

ログイン後、最初に表示される画面です。

### 2.1 表示内容

- **CPU使用率**: 現在のCPU使用率（%）とグラフ
- **メモリ使用率**: 物理メモリの使用状況
- **ディスク使用率**: 主要ディスクの使用状況
- **稼働時間**: サーバーの連続稼働時間
- **サービス状態**: 主要サービスの稼働状況
- **最近の操作**: 直近10件の操作履歴

### 2.2 アラート表示

CPU・メモリ・ディスクが閾値を超えると、画面上部に **警告バナー** が表示されます。

```
⚠️ 警告: ディスク使用率が 91% です。早急に確認してください。
```

この場合は速やかに担当者に報告してください。

### 2.3 自動更新

ダッシュボードは **30秒ごと** に自動的に最新情報に更新されます。
手動で更新したい場合は **「更新」** ボタンをクリックしてください。

---

## 3. サービス管理

### 3.1 サービス一覧の確認

左側メニューの **「サービス管理」** をクリックします。

各サービスの状態が表示されます:
- 🟢 **稼働中（active）**: 正常に動作しています
- 🔴 **停止中（inactive）**: 停止しています
- ⚠️ **失敗（failed）**: 異常停止しています

### 3.2 サービスの詳細確認

サービス一覧から **「詳細」** ボタンをクリックすると:
- サービスの詳細ステータス
- プロセスID（PID）
- メモリ使用量
- 直近のログ（最新10行）

が確認できます。

### 3.3 サービスの再起動（Operator以上）

> **注意**: Viewer ロールでは操作できません。

1. 再起動したいサービスの **「再起動」** ボタンをクリック
2. 確認ダイアログが表示されます

   ```
   ⚠️ 以下の操作を実行しますか？
   操作: サービス再起動
   対象: nginx
   ```

3. 確認フィールドにサービス名（例: `nginx`）を入力
4. **「実行する」** ボタンをクリック
5. 処理が完了すると **成功通知** が表示されます

> **ポイント**: 再起動操作は監査ログに記録されます。

### 3.4 サービス停止（Approver以上または承認後）

サービス停止は **重大な操作** のため、承認フローが必要です（後述）。

---

## 4. ログ閲覧

### 4.1 システムログの確認

左側メニューの **「ログ閲覧」** をクリックします。

### 4.2 ログの検索

| 項目 | 説明 |
|------|------|
| ソース | 確認したいログの種類（systemd journal / アプリログ等） |
| 期間 | 開始日時〜終了日時を指定 |
| レベル | INFO / WARNING / ERROR 等でフィルタ |
| キーワード | 特定の文字列を含む行のみ表示 |

**検索例**:
- nginx に関するエラーログを確認: ソース=journal, 単位=nginx, レベル=error
- 本日の全ログ: 期間=本日 00:00〜23:59

### 4.3 ログのダウンロード

検索結果を **CSV/JSON 形式** でダウンロードできます。
画面右上の **「DL」** ボタンをクリックして形式を選択してください。

---

## 5. ユーザー管理（Operator以上）

### 5.1 ユーザー一覧の確認

左側メニューの **「ユーザー管理」** をクリックします。
現在のユーザー一覧とロールが表示されます。

### 5.2 ユーザーの追加（Admin のみ）

1. **「ユーザー追加」** ボタンをクリック
2. 必要事項を入力（ユーザー名・氏名・メールアドレス・ロール）
3. **「申請する」** をクリック（Admin 承認後に作成）

---

## 6. 承認フロー（申請・承認）

### 6.1 操作申請（Operator の場合）

サービス停止等の危険操作を行う場合:

1. 対象操作の **「申請する」** ボタンをクリック
2. 申請理由を入力（例: 定期メンテナンスのためnginxを停止）
3. **「申請を送信」** をクリック
4. 承認者へ通知が送られます

申請後は **「承認管理」** メニューから状態を確認できます。

### 6.2 申請の承認（Approver の場合）

1. 左側メニューの **「承認管理」** をクリック
2. 保留中の申請一覧が表示されます
3. 申請内容を確認し、**「承認」** または **「却下」** をクリック
4. コメント（任意）を入力して決定

### 6.3 承認後の操作実行

承認された申請は **24時間有効** です。
承認通知を受けたら、対象操作を実行してください。

---

## 7. 監査ログの確認（Operator以上）

左側メニューの **「監査ログ」** では:
- 誰が・いつ・何の操作を実行したか
- 操作結果（成功/失敗）
- 操作に要した時間

が確認できます。

### CSVエクスポート

1. 期間・ユーザー等で検索条件を設定
2. **「CSVエクスポート」** ボタンをクリック
3. ファイルがダウンロードされます

---

## 8. よくある質問（FAQ）

**Q: パスワードを忘れた場合は？**
A: システム管理者に連絡してパスワードリセットを依頼してください。自己リセット機能はセキュリティ上の理由から提供していません。

**Q: 操作ボタンが表示されない**
A: お使いのロールでは操作が許可されていません。Operator以上のロールが必要な場合は管理者に相談してください。

**Q: 再起動を実行したが応答がない**
A: サービスによっては再起動に時間がかかる場合があります（最大2分）。「実行中」表示が継続する場合は管理者に報告してください。

**Q: ログが表示されない**
A: 検索条件（期間・フィルタ）を見直してください。期間が長すぎると結果が絞り込まれる場合があります。

**Q: セッションが突然切れた**
A: 30分間操作がない場合は自動的にログアウトされます。作業前に再度ログインしてください。

---

## 9. 緊急連絡先

| 状況 | 連絡先 |
|------|--------|
| 通常の問い合わせ | 情報システム部（内線 1234） |
| 緊急障害（業務時間外） | オンコール担当（携帯電話） |
| セキュリティインシデント | CISO（内線 5678）＋ 上長に即時報告 |

---

*本文書はLinux管理WebUIサンプルシステムのユーザー向け操作マニュアルである。*
